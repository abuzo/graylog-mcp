# graylog-mcp

> üîç Model Context Protocol (MCP) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Graylog —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª–æ–≥–æ–≤ –≤ Graylog —á–µ—Ä–µ–∑ stdio –ø—Ä–æ—Ç–æ–∫–æ–ª. –†–∞–±–æ—Ç–∞–µ—Ç —Å Cursor, Claude Desktop –∏ –¥—Ä—É–≥–∏–º–∏ MCP-–∫–ª–∏–µ–Ω—Ç–∞–º–∏.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ –¢—Ä–∏ –º–æ—â–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª–æ–≥–æ–≤
- üîí –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Personal Access Token (PAT) –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üåê –†–∞–±–æ—Ç–∞ —Å self-signed TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- üì¶ –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ npm/npx
- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π –ª–æ–≥–æ–≤
- üîç –£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ UUID/trace ID/request ID

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 18
- Graylog —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Personal Access Token

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
npm i -g @alexbuzo/graylog-mcp
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ npx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - —Å–º. —Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Cursor"

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é

```bash
graylog-mcp \
  --graylog-url https://graylog.example.com \
  --token YOUR_GRAYLOG_PAT \
  --ssl-verify=false
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|--------------|----------|--------------|
| `--graylog-url` | ‚úÖ | URL –≤–∞—à–µ–≥–æ Graylog —Å–µ—Ä–≤–µ—Ä–∞ | - |
| `--token` | ‚úÖ | Personal Access Token | - |
| `--ssl-verify` | ‚ùå | –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ | `true` |
| `--debug` | ‚ùå | –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ | `false` |

## üîå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Cursor

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí MCP Servers ‚Üí Add custom server**

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ npx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```json
{
  "mcpServers": {
    "graylog": {
      "command": "npx",
      "args": [
        "-y",
        "@alexbuzo/graylog-mcp@latest",
        "--graylog-url", "https://graylog.example.com",
        "--token", "YOUR_GRAYLOG_PAT",
        "--ssl-verify", "false"
      ],
      "name": "Graylog Search"
    }
  }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)

```json
{
  "mcpServers": {
    "graylog": {
      "command": "bash",
      "args": [
        "-lc",
        "npx -y @alexbuzo/graylog-mcp@latest --graylog-url \"$GRAYLOG_URL\" --token \"$GRAYLOG_TOKEN\" --ssl-verify=false"
      ],
      "env": {
        "GRAYLOG_URL": "https://graylog.example.com",
        "GRAYLOG_TOKEN": "YOUR_GRAYLOG_PAT"
      },
      "name": "Graylog (secure)"
    }
  }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```json
{
  "mcpServers": {
    "graylog": {
      "command": "graylog-mcp",
      "args": [
        "--graylog-url", "https://graylog.example.com",
        "--token", "YOUR_GRAYLOG_PAT",
        "--ssl-verify", "false"
      ],
      "name": "Graylog"
    }
  }
}
```

## üõ† –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### 1. `graylog.search_logs`
–ü–æ–∏—Å–∫ –ª–æ–≥–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Lucene/GELF –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `query` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): Lucene/GELF –∑–∞–ø—Ä–æ—Å
- `rangeSec` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3600): –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `limit` (number, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–º–∞–∫—Å. 500)
- `offset` (number, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `filter` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `stream:<STREAM_ID>`)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  query: "level:ERROR AND service:api",
  rangeSec: 3600,
  limit: 100,
  filter: "stream:507f1f77bcf86cd799439011"
}
```

### 2. `graylog.search_uuid`
–£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ UUID, request ID, trace ID –∏ –¥—Ä—É–≥–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `uuid` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): UUID –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞
- `rangeSec` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 86400): –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (24 —á–∞—Å–∞)
- `limit` (number, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–º–∞–∫—Å. 500)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –≤ –ø–æ–ª—è—Ö:**
- `request_id`, `requestId`, `req_id`
- `trace_id`, `traceId`, `trace.id`
- `span_id`, `spanId`, `span.id`
- `transaction_id`, `transactionId`
- `correlation_id`, `correlationId`
- `_id`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  uuid: "550e8400-e29b-41d4-a716-446655440000",
  rangeSec: 86400,
  limit: 200
}
```

### 3. `graylog.search_stream`
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (stream).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `streamId` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): ID –ø–æ—Ç–æ–∫–∞ –≤ Graylog
- `rangeSec` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3600): –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- `limit` (number, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–º–∞–∫—Å. 500)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```typescript
{
  streamId: "507f1f77bcf86cd799439011",
  rangeSec: 7200,
  limit: 150
}
```

## üìä –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π JSON —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "total": 42,
  "messages": [
    {
      "id": "message_id",
      "ts": "2024-01-15T10:30:00.000Z",
      "level": "ERROR",
      "source": "api-server-01",
      "container": "api-service",
      "message": "Database connection failed",
      "short_message": "DB error",
      "http_method": "POST",
      "url": "/api/users",
      "status": 500,
      "latency_ms": 1234,
      "trace_id": "abc123",
      "span_id": "def456",
      "request_id": "req-789",
      "tenant_id": "tenant-001",
      "client_ip": "192.168.1.1",
      "user_agent": "Mozilla/5.0...",
      "service": "user-api",
      "request": {...},
      "response": {...}
    }
  ]
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π

–°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:

| –ü–æ–ª–µ | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∏–º–µ–Ω–∞ |
|------|---------------------|
| `container` | `container_name`, `kubernetes.container_name` |
| `http_method` | `method`, `http_method`, `request_method` |
| `url` | `path`, `request_path` |
| `status` | `http_status`, `response_status` |
| `latency_ms` | `duration_ms`, `response_time_ms` |
| `trace_id` | `traceId`, `trace.id` |
| `span_id` | `spanId`, `span.id` |
| `request_id` | `req_id`, `requestId` |
| `client_ip` | `remote_addr`, `ip` |
| `service` | `service_name`, `app` |

## üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run build
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run dev -- --graylog-url https://graylog.example.com --token YOUR_PAT --ssl-verify=false
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```bash
node dist/cli.js --graylog-url https://graylog.example.com --token YOUR_PAT --ssl-verify=false --debug
```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
graylog-mcp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ cli.ts        # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ server.ts     # MCP —Å–µ—Ä–≤–µ—Ä –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ graylog.ts    # API –∫–ª–∏–µ–Ω—Ç –¥–ª—è Graylog
‚îú‚îÄ‚îÄ dist/             # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ package.json      # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ tsconfig.json     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Personal Access Token (PAT)

1. –°–æ–∑–¥–∞–π—Ç–µ PAT –≤ Graylog: **System ‚Üí Users ‚Üí [Your User] ‚Üí Edit ‚Üí Create Token**
2. –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
3. –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ—Ç –¥–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
   - `token:YOUR_PAT`
   - `YOUR_PAT:token`

### SSL/TLS

- **Production:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–Ω—ã–π CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ `--ssl-verify=true`
- **Development/Self-signed:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--ssl-verify=false`
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NODE_EXTRA_CA_CERTS` –Ω–∞ –ø—É—Ç—å –∫ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–º—É CA

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ git
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è PAT
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω—ã

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### 401/403 –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å PAT
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Ç–æ–∫–µ–Ω–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç URL (–¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª: `https://`)

### TLS/SSL –æ—à–∏–±–∫–∏
```bash
# –û–ø—Ü–∏—è 1: –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É (–Ω–µ –¥–ª—è production!)
--ssl-verify=false

# –û–ø—Ü–∏—è 2: –£–∫–∞–∑–∞—Ç—å CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
export NODE_EXTRA_CA_CERTS=/path/to/ca-cert.pem
```

### –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å: `query: "*"`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω (—É–≤–µ–ª–∏—á—å—Ç–µ `rangeSec`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Lucene –∑–∞–ø—Ä–æ—Å–∞

### Debug —Ä–µ–∂–∏–º
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--debug` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
graylog-mcp --graylog-url ... --token ... --debug
```

## ü§ù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
```typescript
// –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: graylog.search_logs
{
  query: "level:ERROR",
  rangeSec: 3600
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ –ø–æ trace ID
```typescript
// –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: graylog.search_uuid
{
  uuid: "abc-123-def-456",
  rangeSec: 86400
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
```typescript
// –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: graylog.search_logs
{
  query: "service:auth-api AND level:WARN",
  rangeSec: 7200,
  limit: 50
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–æ–∏—Å–∫ HTTP 5xx –æ—à–∏–±–æ–∫
```typescript
// –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: graylog.search_logs
{
  query: "status:[500 TO 599]",
  rangeSec: 3600
}
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Graylog REST API —á–µ—Ä–µ–∑ `/api/search/universal/relative` –∏ `/api/streams/{id}/messages`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å: 500
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 150 –∑–∞–ø–∏—Å–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `limit` –∏ `offset`
- –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ UTC

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Model Context Protocol](https://modelcontextprotocol.io/)
- [Graylog API Documentation](https://go2docs.graylog.org/current/downloading_and_installing_graylog/rest_api.htm)
- [Lucene Query Syntax](https://lucene.apache.org/core/9_0_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© Aliaksei Buzo

## üôè –í–∫–ª–∞–¥

Contributions –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –∏–ª–∏ pull request –≤ [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](https://github.com/abuzo/graylog-mcp).


